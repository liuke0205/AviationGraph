第57章	气动弹性优化设计
57.1气动弹性优化设计的背景
气动弹性品质对飞机的飞行品质、飞行性能和飞行安全有很大影响。为了在飞机设计过程中把气动弹性要求综合进去得到好的设计，国内外均对包含气动弹性约束的结构优化设计——气动弹性剪裁作了许多研究，发展了不少实用的软件，在飞机设计中发挥重要作用，比较著名的有：
(1)	美国AFWAL倡导发展的
a.TSO——通用动力公司；
b.FASTOP——格鲁门公司；
c.ASTROS——诺斯罗普公司。
(2)	著名航空工业公司自行发展使用的
a.ELFINI一一法国达索公司；
b.LAGRANGE——MBB公司；
c.ADOP——美国麦道公司；
d.SAFDOP——中国沈阳飞机设计研究所。
(3)	中国CAE倡导发展的
a.YIDOYU——中国飞机强度研究所，成都飞机设计研究所，西安飞机设计研究所等；
b.COMPASS——中国飞机强度研究所，成都飞机设计研究所，沈阳飞机设计研究所等。
(4)	俄罗斯 发展的
 ——俄罗斯中央流体动力研究院 。
57.2气动弹性优化设计的目标和过程
气动弹性优化的目标一般为满足飞机的气动弹性品质要求（如颤振临界速度、操纵效率等）下的最轻结构重量设计。有时也把某个气动弹性品质或某些气动弹性品质加权综合作为目标函数。
优化是一个数学过程，要有一个描述目标和约束条件的数学模型。优化目标的数学表达式叫做目标函数。优化结果必须满足的要求（如各项气动弹性品质指标）叫做约束条件。
进行气动弹性优化的结构除要满足颤振、静气动弹性的约束外，并要满足强度、工艺等要求，所以多把它们也放在约束条件中。优化的目标通过改变结构模型中的可变化参数（如蒙皮厚度、梁凸缘面积等）实现，这些参数是优化的对象，叫做变量（列阵）。
气动弹性剪裁的变量多为结构尺寸、铺层方向、配重质量等。但有时也取与结构件尺寸相关的元件重量为变量。优化就是按选定的优化方法所确定的数学过程一步一步地变化变量以达到最优。优化步中要知道约束条件是否满足，所以要计算目标函数和约束响应值。
每一步要决定变量列阵怎么变化，这就需要知道约束响应值和目标函数对变量的导数，或叫做敏度。归结起来如下：
(1)	优化的数学模型和变量集；
(2)	优化方法；
(3)	约束响应值；
(4)	目标函数和约束条件对变量的敏度。
其中(3)就是要选择把气动弹性分析引入优化过程中，故本章仅介绍其中的(2)、(4)问题。
57.3优化方法
优化设计方法甚多，中国航空工业部门采用过的优化设计方法，主要有数学规划法中基于内罚函数的序列无约束优化法(SUMT)和导数均匀准则法。
57.3.1序列无约束优化法 ——SUMT法
通过构成内罚函数把有多个约束的优化问题，即约束极值问题，转变为一序列无约束极值问题，即 
上式中，D为设计变量列阵；W(D)为目标函数；R(D,γk,gj（D）)为组合目标函数，通过它把约束极值问题，转化为无约束极值问题；gi(D)为约束函数，采用内罚函数形式
以上Rj(D)为结构响应值， j,up、 j,low分别为相应的上、下限值。
由于设计过程中的设计点可能偏离可行域，以及为放松对初始点的严格限制，可采用如下
二阶扩展内罚函数形式
变换点g0按下式计算
无约束极值问题归结为求
式中：Sk——第K步的搜索方向（列阵）；
a* ——维搜索步长。
建立了式(57-1)~式(57-7)之后，下一步就是进行求无约束极值搜索。求无约束极值搜索方法很多，如Newton法、变尺度法(BFGS或DFP)、梯度法和共轭梯度法等。
57.3.2导数均匀准则法
导数均匀准则法直接取质量变量，递推公式为
式中：R——响应值，对颤振取颤振速度VF,对静气动弹性取效率η等；
△R——要求上述响应值的增量；
r——可选参数；
mi——上一步求得的第i个质量变量值；
△mi——这一步第i个质量变量增加值；
N——质量变量数。
用导数均匀准则法进行强度、气动弹性优化，方法简单，效果显著。其缺点为每一次递推不能处理多个约束，只能各个约束循环处理。譬如说处理约束顺序为应力、颤振、静气动弹性。每次处理确定临界变量，下次处理不得减小上次处理的临界变量。如，处理静气动弹性约束时不得减小应力、颤振约束的临界变量，直至再循环至静气动弹性约束时才释放上次处理的静气动弹性约束临界变量。
57.4	约束响应值敏度
无论用数学规划法或准则法优化，均需要目标函数及约束响应值对设计变量的导数，或称为敏度。实用软件中求敏度有用差分法和解析法两大类，均经过试例验证其可靠性。
57.4.1差分法求约束响应值敏度
式中：Di——第i个设计变量；
R2——对应于Di2的约束响应值；
R1一一对应于Di1的约束响应值。
差分法十分简单，但每个优化步需计算的约束响应值的工作量太大。
57.4.2解析法求约束响应值敏度
由于不同程序所用的气动弹性方程不尽相同，在此仅介绍在我国已用过的解析法思路。解析法总的思路是用摄动法直接从矩阵方程求导。当矩阵方程为特征方程时，推导过程中往往特征值和特征向量的导数同时出现而使运算繁琐不堪，此时可用乘左特征向量的方法，消去许多项，以简化运算。也可以用变换基底的方法，把特征方程改造成自伴随，此时左右特征向量相同，则运算更简单。
57.4.2.1结构固有振动特性敏度
在用集聚质量和影响系数矩阵求固有振动特性时，振动方程为
式中：C——影响系数矩阵；
M——质量矩阵（对角）；
 ——特征值对角阵；
F——特征向量矩阵。
把式(57-11)改造为自伴随，令
振动方程成为
对式(57-13)求导并左乘YT得
以上黑体符号如M系代表矩阵，Mj代表M矩阵对变量Dj的导数，以后表示方法均类同。
57.4.2.2颤振速度敏度
用V-g法及简谐振动非定常气动力求解时颤振方程为以下形式
 ——广义刚度矩阵；
 ——广义质量矩阵；
 ——广义气动力矩阵；
ω ——频率；
g——保持等幅振动所需的形态结构阻尼。
式(57-18)对Dj求导，并乘以左特征向量rT得
由于广义气动力 是按某一个模态计算的，又是在某一个减缩频率下计算的，而设计变量的改变将同时引起模态的改变和颤振减缩频率的改变，因此广义气动力 对设计变量 j的导数就可以写成式(57-19)中括弧内的最后两项之和，其中 Fj代表广义气动力因模态变化（由 j引起的）而产生的偏导数， k则代表广义气动力对减缩频率的偏导数。模态对 j的偏导数见式(57-17)，从而可求得 Fj。则可简单地用差分法求得。由式(57-19)得
当系统处于颤振临界即动力学中的中立稳定状态时g=0,λ、k为实数，λj的虚部为零得
颤振临界状态 
式中：VF——颤振临界速度；
ωF——颤振临界时频率。
57.4.2.3静气动弹性效率敏度
静气动弹性部分符号定义同本册第53章。
静气动弹性效率η=Rf/Rr，因为Rr为固定值，所以
(1)	一维升力面
(2)	二维问题方法一
(3)	二维问题方法二
57.4.2.4	静气动弹性发散速压敏度
静气动弹性发散方程为
对Di求导
式(57-31)乘以式(57-30)的左特征向量 后得
而发散速压敏度
(1)	一维升力面
(2)	二维问题方法一
(3)	二维问题方法二