46.5	缓冲设计
缓冲主要处理位移和加速度的最大值问题。缓冲装置的机能是把机械系统对冲击的响应，即传递力、加速度、相对位移等的最大值降到允许限度以下。为实现此机能，缓冲装置可以使用各种要素。
缓冲问题分为两类：一类是机械装置等受外部冲击时基础运动影响的减弱；第二类是机械装置产生的冲击对设备产生的力的影响的减弱。飞机着陆冲击时机载设备的缓冲属第一类，发动机起动和运转中的不平衡力的影响的减弱属第二类缓冲。而两者存在着表46-8的关系。
表46-8由基础传递到机械的冲击与由机械传递到基础的冲击间的相似关系
	(1)由基础到机械的冲击	(2)由机械到基础的冲击	相似关系	输入的条件
冲击输入	速度阶跃v0	冲量J	把v0代换为J/m	冲击作用时间<<系统固有周期
	加速度脉冲x0(t)	力的脉冲P(t)	把x0代换为P/m	上述关系不成立时
系统响应	最大加速度xmax	最大冲击力Fmax	把xmax代换为Fmax/m	
系统振型图	 	 		注：回转运动时也存在同样的相似关系
冲击输入一般用图46-23所示的加速度脉冲x0给予，其积分值为速度x0，若脉冲作用时间短，则速度接近于阶跃变化。若用台阶状的速度阶跃作为近似输入，则响应的评价就变得容易了，而这时得到的最大响应加速度xmax的误差可由图46-24查得。
由图46-24可知，ωnτr<0.6时，即冲击作用时间比系统的固有周期非常短时，几乎看不出脉冲形状的影响，可用v0或J代表冲击输入。而当ωnτr大时，用速度阶跃v0和冲量J近似表示冲击输入，则响应过大。
本节主要介绍单自由度系统速度阶跃冲击和加速度脉冲冲击的分析和缓冲设计。这些也适合回转运动的缓冲问题，只要将位移、速度、加速度分别用角位移、角速度、角加速度代换，质量用转动惯量，以及力用力矩代换。
46.5.1	单自由度系统速度阶跃的冲击
冲击隔离装置的设计问题，就是如何选择隔冲装置的弹簧特性、阻尼特性，使传递到机械装置等上的最大加速度Xmax低于允许值xa，同时也使隔冲装置产生的最大变形(相对位移)δmax低于允许值δa。加速度x取决于隔冲装置的传递力F，而F由隔冲装置的变形量δ、变形速度δ决定，所以现在的问题是δ、δ与冲击速度阶跃v0。存在着怎样的关系。
对于只使用弹簧(视为无阻尼)的隔冲装置，δ、δ与冲击速度阶跃v0的关系如表46-9所示。对于有代表性的三种弹簧特性的隔冲装置，其速度阶跃v0最大变形量δmax，最大加速度xmax的关系由表46-10示出。
其中硬弹簧表示弹簧刚度随变形增加而增大的非线性弹簧，软性弹簧表示弹簧刚度随变形量增加而减小的非线性弹簧(如图46-25)。
表46-9无阻尼单自由度系统中与速度阶跃冲击有关的基本方式
(1)隔冲装置变形量δ=x-x0与变形速度的关系
[F(δ)——隔冲装置的传递力；m——机械的质量］	 
(2)隔冲装置的最大变形量δmax与速度阶跃V0的关系	 
(3)隔冲装置的最大传递力Fmax和响应最大加速度Xmax 	 
(4)设计条件 δmax——最大允许变形量
Fa——最大允许传递力
Xa——最大允许加速度	 
(5)能量吸收效率η	 
表46-10使用各种弹簧时的基本公式
弹簧类型	弹簧特性	最大变形量δmax与阶跃速度V0的关系	最大加速度Xmax与最大变形量δmax的关系
(1)线性弹簧	 	 	 
(2)硬性弹簧	 	 	 
(3)软性弹簧	 	 	 
上述非线性弹簧特性用表46-10及图46-25中所列函数表示，其特性表示为K、h的函数，所以使用非线性弹簧时的设计问题归结为决定参数K、h。
K——δ=0时，切线的斜率(δ=0时的弹簧刚度)；
h——与渐近线有关的常数；渐进线｛硬弹簧：δ=h           软弹簧：F=kh
如表46-10及图46-27所示，输入的运动能  转换成弹簧的变形能被储存，而弹簧特性不同，Fmaxδmax的值也不同。用表46-10中的关系式计算 与 的关系，得到图46-26。对于线性弹簧：η=0.5，硬性弹簧η<0.5，软性弹簧：η>0.5，当η=1时， 
图46-27示出了表46-10中δmax与V0的关系，由图知，对于相同阶跃速度，硬性弹簧的最大变形量比软性弹簧的小。所以要使隔冲装置小型化，使用硬弹簧合适；但是从能量吸收效果来考虑，使用软弹簧较合适。然而当输入值比设计值小时，软弹簧的刚度变得非常大。
当使用线性弹簧时，由表46-10(1)的关系可知，可按照固有频率满足  的条件来确定弹簧刚度K的范围，即由隔冲装置的最大允许变形量来确定弹簧刚度下限，由最大允许加速度确定弹簧刚度上限。
线性弹簧与线性阻尼器并联使用时，阻尼比C/CC与 的关系由图46-28(a)给出，当C/CC>0.5时，最大加速度比C/CC=0时还大，Xmax随C/Cc成正比增加。将Xmaxδmax/ 作成图46-28(b)，可知当C/CC≈0.4时，能量吸收效率最高。
综上所述，可得单自由度系统在速度阶跃冲击下，隔冲装置的特性和响应的求解方法。
图46-26、图46-27、图46-28都是对无量纲变量作图，给定V0、ωn、h、C/Cc等时，利用图可求得δmax、xmax。这些图也能用于图46-29所示的设计程序。
使用最初作为设计给定参数V、m、δa、xa值决定隔冲装置参数，首先须从线性弹簧、硬弹簧、软弹簧、线性弹簧与阻尼器并用形式中选定一种。对于线性弹簧，最终决定弹簧刚度K值，算出δmax、xmax。对于硬弹簧和软弹簧、决定了参数K、h的值后，就能确定弹簧的载荷——变形曲线。
非线性弹簧设计之初，必须在允许限度有适当假设δmax、xmax的值(软弹簧的δmax/h取值大些)。在有阻尼情况下，也先假定δmax和C/CC值，最后确定弹簧刚度和阻尼系数C值，如果不能满足设计条件，再对最初的假定作修正。
46.5.2	单自由度系统加速度脉冲冲击
实际的加速度脉冲形状是多种多样的，不可能原地不动地作一般性处理。所以采用表46-11所列的理想加速度脉冲冲击形状来近似。若有可能，就可以用图46-30、图46-31所示的响应谱来决定隔冲装置的特性。
理想冲击加速度脉冲的特性，大致由其加速度x0max、冲击所用时间τ和冲击的积分值v0所决定，如果当量冲击作用时间 与τ之比很小，脉冲就变成尖峰状。
由图46-30的响应谱可知，τr/τ的值越小，响应加速度的最大值xmax越小。如果ωnτr很大，即冲击作用时间τ比固有周期2Π/ωn长，则除脉冲(τr/τ=1)外，其他脉冲的xmax接近输入加速度的最大值 ，矩形脉冲 
综合上述，可得单自由度系统在加速度脉冲冲击作用下，隔冲装置的特性和响应的求解方法。
用图46-30的响应谱决定隔冲装置的特性(弹簧刚度)之际，可按图46-32所示流程图的程序进行。即首先根据给的加速度脉冲的最大值x0max，积分值V0和作用时间τ，用一理想冲击加速度脉冲来代换，由对此脉冲的响应谱曲线，以响应加速度最大值xmax小于最大允许值x0为判据，读取ωnτr的范围，由此确定固有圆频率ωn的上限ωu。
使用线性弹簧可用允许加速度xa和允许变形量δn决定固有圆频率下限 一般ωL必须用相对响应谱，从满足最大变形量δmax<δn的ωnτr的范围读取。固有圆频率一确定，弹簧刚度的范围也就确定了。
线性弹簧和线性阻尼器并联其响应谱的一例示于图46-31(半正弦波脉冲冲击)。其他脉冲也可由此图定性地了解阻尼比的影响。
由图46-31决定缓冲装置的特性时，假定C/CC的值，由图读取 的ωnτr的范围，决定ωn的上限，选定ωn则K就定了，进而用C/CC决定C。为确定ωn下限，须求各C/CC的相对位移响应谱。
46.6	结构动力学设计
本节给出两种实用的结构动力学设计方法，可供设计中参考使用。
46.6.1	结构多频率优化设计
(1)	多频优化概述
本部分是采用有限元法、摄动法和序列无约束极小化方法，通过修改结构系统的结构参数，同时调整结构多个固有频率，使最优地达到预定的设计要求。
a.	功能
	分析结构系统的固有特性，FINELE；
	分析结构参数对固有频率的灵敏度，选取设计变量，SELECT；
	进行结构多频率优化设计，OPTEIG。
b.	方法
	由初始结构参数{P0}计算、组集有限元模型的总刚度矩阵{K0}和总质量矩阵{M0}，用于空间迭代法解广义特征值问题
式中：ω0和{φ0}是初始结构系统的固有频率和固有振型。
	结构系统固有频率ωt对结构参数Pr的灵敏度系数定义为
采用矩阵摄动法计算灵敏度系数Sr,tr，选取最敏感的部分结构参数为设计变量。
	定义目标函数，根据约束条件引入罚函数，构造增广目标函数，将问题转化为无约束最优化问题，采用序列无约束极小化方法(SUMT法)求目标函数的极小点。
c.	算例
长为L=5.08cm，宽为b=2.54cm的金属悬臂板，其弹性模量为E=2.1*106kgf/cm2，密度p=8.0*10-6kg/cm3。现将它划分为8个板元素，构成为它的有限元模型，其初始厚度为t(0)=0.254cm。
优化的目标是前三阶固有频率，约束条件为
经灵敏度分析，将它们的灵敏度系数按绝对值的大小进行排序，板元素①、②、③与④的厚度是最敏感的结构参数，选择为设计变量。频率优化的结果列于表46-12。
四个元素厚度的优化结果见表46-13。
(2)	结构系统有限元模型的固有频率分析与计算
本部分是根据结构参数形成结构系统有限元模型的总刚度矩阵和总质量矩阵，及结构系统固有振动的广义特征值问题；广义特征值问题的求解，得出其特征值(固有频率)和特征向量(固有振型)；根据结构参数的增量形成结构刚度增量矩阵和质量增量矩阵。
a.	功能
	形成有限元模型，输入有限元信息，形成有限元模型的信息，INPDAT；
	形成刚度矩阵、质量矩阵及其增量矩阵，ASSEMB；·
	求解广义特征值问题，SSPACE。
b.	方法
	读入结构有限元网格划分信息、几何参数、物理参数和位移约束信息，用一维变带宽存储方法形成结构刚度矩阵和质量矩阵的对角元编码信息；
	有限元类型有：拉压杆、弯曲梁、扭转轴、剪切板、平面应力板、弯曲板和曲壳等。采用位移法形成单元刚度矩阵和质量矩阵，组集结构的总刚度矩阵和总质量矩阵；形成优化过程中的刚度增量矩阵和质量增量矩阵。
	用子空间迭代法求解特征值和特征向量。
(3)	结构动力修改
本部分是在原始有限元模型固有特性分析的基础上对结构进行动力修改，在形成结构刚度增量矩阵和质量增量矩阵后，对修改结构的固有特性进行重分析。
a.	功能
	对原始结构固有模态进行重分析前，判别是孤立模态还是近频有限修改的耦合模态；
	对孤立模态进行重分析，计算特征解的摄动量；
	对耦合模态进行重分析，计算特征解的摄动量。
b.	方法
	关于近频耦合模态的判断采用计算机自动挑选和人工键入两种方式。计算机自动挑选的判据是
若ηij是一阶小量，则模态i与j互为孤立模态；否则是近频耦合模态。
	用孤立模态摄动法计算各阶模态隔得足够开的小修改情况的模态重分析问题。它的特征值和特征向量分别展开为
它的零阶摄动解S01，和{φ0i}为初始结构系统的特征解。
一阶摄动解为
	用耦合模态摄动法计算耦合模态有限修改情况的模态重分析问题。首先，把特征方程，按耦合模态和孤立模态分块书写。对耦合模态特征子空间用子空间迭代法求其特征解。对孤立模态则采用孤立模态摄动法计算，再计入它们之间的影响(公式从略)。
c.	算例
均匀悬臂梁，长L=400cm，宽B=3cm，弹性模量E=2.1*1011N/m2，密度p=7.8*103kg/m3。初始系统取梁厚为δ=4mm。用有限元法，将悬臂梁等分为10个梁元素，求解广义特征值问题，得出其特征值S0i和特征向量{φ0i}。将自由端的一半长度铣去0.2mm厚度给出的修改系统，用矩阵摄动法和有限元法两种方法进行计算，分别得出特征解为：  。它们的计算结果比较列于表46-14。
(4)	灵敏度分析与设计变量选择
a.	功能
	计算结构参数对固有频率的灵敏度系数；
	根据灵敏度系数绝对值的大小选取设计变量。
b.	方法
	给初始设计变量Pr，一个增量△Pr，采用结构动力修改中的矩阵摄动法计算结构固有频率的增量△ft。
定义频率灵敏度系数为
	将结构参数按灵敏度系数的绝对值进行排序，选择前几个最敏感的结构参数取为设计变量。
(5)	多频率优化设计
a.	功能
	定义目标函数，根据引入的约束条件构造罚函数，形成增广目标函数，构成序列无约束极小化问题；
	对序列无约束极小化问题，寻求受到一组不等式约束的目标函数的最优点。
b.	方法
	定义目标函数为 ，这里取，
式中：Wi为权系数，可取
引入约束条件为
这里取
根据约束条件构造罚函数
	寻求最优解{P*}，使F({P*})取极小值，同时满足全部约束条件。引入增广目标函数
构成为序列无约束极小化问题。其中pk为递减响应面系数。
若目标函数值、它的导数和极小解满足收敛性要求，则其解为极小解，并停止迭代。否则令 进行下一个迭代求极小解。
	极小方法采用变尺度法中的DFP法。计算目标函数及其导数，确定搜索方向用一维搜索的黄金分割法确定局部极小值。
收敛性检验。目标函数值、它的导数和极小解与前一次迭代值相比满足误差要求，则认为收敛于极小解。
	频率检验。计算修改后结构系统的固有频率，校正误差。
检验它是否满足精度要求。若不满足要求，则按修改后的结构参数为初值重新进行优化设计。
46.6.2	结构频率响应优化设计
(1)	频响优化概述
本部分是处理比例阻尼结构系统频率响应优化问题，要求所考虑的各阶模态频率响应之和小于某一给定值。本部分包含：阻尼结构的复特征值分析；阻尼结构的动力响应计算；复特征解的摄动技术；频率响应的灵敏度分析；频率响应优化目标函数的构造等。
a.	功能
·计算阻尼结构系统在简谐激励下的动响应。它除了构造刚度矩阵和质量矩阵外，需要的话还可生成比例阻尼矩阵，求解复特征值问题，按模态叠加法计算总响应量。
·分析结构参数对频率响应的灵敏度。阻尼结构系统复特征解对结构参数的摄动分析，频率响应的灵敏度分析，选择设计变量。
·进行频率响应优化计算。构造响应优化目标函数和约束条件，寻求极小点，确定设计参数最优值。
b.	方法
用有限元法由初始结构参数{P0}计算和组集结构系统有限元模型的刚度矩阵[K0]和质量矩阵[M0]，根据需要生成瑞利阻尼矩阵
然后求其特征解，用模态叠加法求简谐激励下的第k点的频率响应量
式中：{φi}——第i阶模态的振型向量；
Hi—第i阶模态的频率响应函数
其中
这里ωi是第i阶模态的固有频率，εi是其阻尼比，Q是激振频率。
·频率响应的灵敏度分析是由两部分组成：
一是复特征解的摄动量
二是频率响应函数的导数
响应量的灵敏度定义为
根据灵敏度分析选择设计变量。
·设定响应量的目标值Xk，ob，要求总响应量小于目标值
并满足约束条件
构造目标函数、罚函数和增广目标函数。采用序列无约束极小化寻求极小点，确定设计变量的最优值。
(2)	结构系统动力响应有限元分析程序
a.	功能
·输入有限元信息，INPDAT；
·生成有限元模型，FINELE；
·求解特征值问题(含复特征值问题)，CSSPAC；
·计算阻尼结构系统频率响应函数和在简谐激励下动力响应，NODRS。
b.	方法
·有限元类型有：拉压杆、弯曲梁、扭转轴、剪切板、平面应力板、弯曲板和曲壳等。读入结构系统的有限元网格划分信息、有限元特性参数(几何参数、物理参数和位移约束)信息；采用一维变带宽存储形成结构矩阵的(结构刚度矩阵、质量矩阵和阻尼矩阵)编码信息。
·采用有限元位移法生成结构的初始刚度矩阵［K0］和初始质量矩阵［M0］。初始阻尼矩阵[C0]取瑞利阻尼矩阵，即是质量矩阵和刚度矩阵的线性组合，其系数为a和β
在优化过程中形成刚度增量矩阵和质量增量矩阵，这时的阻尼矩阵可能不再是比例阻尼矩阵，但单元阻尼矩阵可取为单元刚度矩阵和质量矩阵的线性组合，其第i个单元的系数为ai和βi。
·初始结构系统，由于比例阻尼矩阵的特点，调用子空间迭代法求结构系统固有频率ωi和实特征向量{φi}，然后根据阻尼比εi，给出复特征值
修改结构系统可能是复特征值问题，求解方法采用OR法或一种近似求解方法——迭代摄动解法。迭代摄动解法是将阻尼矩阵分解为在比例阻尼矩阵基础上附加一个小量的增量阻尼矩阵。采用摄动法求解，摄动求解时零阶解为比例阻尼系统的解。
·根据模态叠加法计算结构系统的频率响应
第i阶模态的频率响应是
这里ωi是第i阶模态固有频率，εi是其阻尼比，Ω是激振频率。
第i阶模态的频率响应又可写为
(3)	频率响应的灵敏度分析
a.	功能
·按结构参数生成有限元增量模型，FINELE；
·对修改的阻尼结构系统特征值问题进行重分析，给出修改结构系统的特征解；
·频率响应函数的导数计算；
·频率响应的灵敏度分析和选择设计变量。
b.	方法
·根据结构参数的增量△Pr，采用有限元位移法构造结构系统的刚度增量矩阵［△K]、质量增量矩阵[△M]以及阻尼增量矩阵[△C]。
·用矩阵摄动法计算修改结构系统的特征值和特征向量的摄动解。
修改结构的动力学方程是
把它的特征解按小参数展开如下：
·修改结构系统的复频率为
·它复模态向量为
它的零阶摄动解是初始结构的特征解。
它的一阶摄动解是
以上公式适用于孤立模态情况。对于近频有限修改情况，需采用耦合模态摄动法，对耦合模态子空间须求解它的复特征值问题。
·计算频率响应函数的导数和选择设计变量。
第i阶模态的频率响应是
则第i阶模态的频率响应对第k个设计参数pk的导数为
定义响应量的灵敏度系数为
根据灵敏度分析，对设计变量按灵敏度系数的大小进行排序，选择设计变量。
(4)	频率响应优化方法
a.	功能
·根据频率响应优化设计要求构造目标函数，并引入约束条件，FUNRSP；
·形成序列无约束极小化问题，进行极小化计算，NINI；
·根据动响应收敛性准则，确定最优解，RESVER。
b.	方法
·按响应优化准则构造目标函数，根据约束条件构造罚函数，然后生成增广目标函数。
频率响应优化准则是响应量 应小于目标值 即
若上述条件不成立，取目标函数
引人的约束条件是
则取罚函数
式中，Cr是设计变量Pr的权系数。
于是，生成增广目标函数
式中，Rk是递减的响应面系数。
·极小化方法
按递减的响应面系数，形成序列无约束极小化问题，每次迭代计算的是一个无约束极小化问题。
用变尺度法中的DFP法确定搜索方向。用一维搜索的黄金分割法确定局部极小点。
·收敛性检验
相邻两次迭代所得的目标函数值及其导数值，以及设计点之差异满足精度要求作为收敛准则。
·动响应检验
计算修改后结构系统的动响应。
检验它是否满足精度要求。若不满足要求，则按修改后的结构参数为初值重新进行优化设计。